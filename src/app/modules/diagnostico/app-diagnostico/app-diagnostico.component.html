<div class = "cointainer">
<!-- <p>rol colaborador</p> -->
<a href="../../../../assets//Politica-de-datos/POLITICA DE TRATAMIENTO DE DATOS  ISOLUCIONES.pdf"></a>
<app-app-header></app-app-header>
<!-- <form [formGroup]="formParent">
  <h1>{{datos.tituloPrincipal}}</h1>
  <div formArrayName="campos">
    <div *ngFor="let campo of campos.controls; index as i">
      <!-- <h3>{{campo.titulprincipal}}</h3> ----
      <div [formGroupName]="i">
        <p>Numeral Principal: {{campo.value.numeralprincipal}}</p>
        <p>Numeral Específico: {{campo.value.numeralespecifico}}</p>
        <p>Título: {{campo.value.titulo}}</p>
        <p>Requisito: {{campo.value.requisito}}</p>
      </div>
    </div>
  </div>
</form> -->
<form [formGroup]="formParent" class="controllerDiagnostico" (ngSubmit)="saveForm()">
  <h1>{{datos.tituloPrincipal}}</h1> 
  <p>Todos los campos con el asterisco (*) son obligatorios</p>
    <div *ngFor="let campo of datos.campos; let j = index" class="diagnostico">
        <h3>{{campo.tituloprincipal}}</h3>
        <div *ngFor="let subcampo of campo.listacampos; let i = index" class="formDiagnostico">
          <h2>{{subcampo.titulo}}</h2>  
          <label>Numero principal</label>
          <input type="text" [value]="subcampo.numeralprincipal" disabled="true" [id]="'requisito-' + i">
          <label>Numero específico</label>
          <input type="text" [value]="subcampo.numeralespecifico" disabled="true" [id]="'requisito-' + i">
          <label>Titulo del requisito</label>
          <input type="text" [value]="subcampo.titulo" disabled="true" [id]="'requisito-' + i">
          <label>*Requisito</label>
          <textarea type="text" [value]="subcampo.requisito" style="height: 200px" disabled="true" [id]="'requisito-' + i"></textarea>
          <label>*Posible evidencia</label>
          <textarea type="text" [value]="subcampo.nombre_evidencia" style="height: 200px" disabled="true" [id]="'requisito-' + i"></textarea>
          <div class="cont">
            <div *ngFor="let opcion of subcampo.desplegable" class="containerRadio">
              <label>{{opcion.descripcion}}<span style="color: red;">*</span></label>
              <div class="radio">
                <input type="radio" [value]="opcion.item" [name]="i" (change)="capturarValor(i, $event, opcion.item, subcampo.numeralespecifico)" 
                (click)="valorSeleccionado = opcion.item" [id]="subcampo.numeralespecifico" (change)="opcionSeleccionada = true"> {{opcion.valor}}
              </div>
            </div>
          </div>
          <label>Observacion</label>
          <textarea type="text" style="height: 200px" [id]="'observacion-' + subcampo.numeralespecifico" 
          (input)="capturarValorObs(i, $event, 'observacion-' + subcampo.numeralespecifico)" class="obs"></textarea>
          <div class="linea"></div>
        </div>
    </div>
    <!-- <button type="button" class="btn" [disabled]="!opcionSeleccionada" (click)="siguienteFormulario()">Siguiente</button> -->
  <button type="submit" class="btn" [disabled]="!opcionSeleccionada">Guardar</button>
</form>
<app-app-footer></app-app-footer>
<ngx-spinner></ngx-spinner>
</div>
