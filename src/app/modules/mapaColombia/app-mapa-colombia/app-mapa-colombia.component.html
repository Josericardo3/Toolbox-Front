<app-app-header></app-app-header>
<div class="containerMonitorizacion">
    <div class="titulo">
        <h1>Monitorizaci√≥n</h1>
        <app-app-header-arrow-left></app-app-header-arrow-left>
    </div>
    <div class="monitorizacion">
        <div class="containerFiltros">
            <h4>Filtrar por:</h4>
            <div class="filtros">
                 <div class="select">
                    <ng-multiselect-dropdown [placeholder]="'Seleccione por norma'" [settings]="dropdownSettingsNorma" 
                    [data]="dropdownListNorma" [ngModel]="selectedItemsNorma" (onSelect)="onItemSelect($event, 'norma')"
                    (onSelectAll)="onSelectAll($event, 'norma')" (onDeSelect)="onDeSelect($event, 'norma')" 
                    (onDeSelectAll)="onDeSelectAll($event, 'norma')" style="margin-top:2vh;"></ng-multiselect-dropdown>
                </div>
                <div class="select">
                    <ng-multiselect-dropdown [placeholder]="'Seleccione por Categoria'" [settings]="dropdownSettings" 
                    [data]="dropdownListCategoria" [ngModel]="selectedItems" (onSelect)="onItemSelect($event, 'categoria')"
                    (onSelectAll)="onSelectAll($event, 'categoria')" (onDeSelect)="onDeSelect($event, 'categoria')" 
                    (onDeSelectAll)="onDeSelectAll($event, 'categoria')"></ng-multiselect-dropdown>
                </div>
               
            </div>
        </div>
        <div class="mapa-container" >
            <div id="area-fuera-del-mapa"></div>
            <svg id="mapa-colombia" (click)="onMapClick($event)"></svg>
        </div>

        <div class="tarjeta" *ngIf="showdepartamentoSeleccionado" [style.top]="tarjetaTop" [style.left]="tarjetaLeft">
            <button class="cerrar-tarjeta" (click)="cerrarTarjeta()">X</button>
                <h2>{{departamentoSeleccionado}}
                    <p>Total de Conexiones: {{ datamapafilter.CANT }}</p>

                </h2>
                <span *ngFor="let pst of datamapafilter.PSTs ,let i= index">
                    <h3 *ngIf="pst.RAZON_SOCIAL_PST">PST: {{ pst.RAZON_SOCIAL_PST }}</h3>
                    <p>Cantidad de Conexiones: {{ pst.CANTIDAD_CONEXIONES }}</p>
                </span>
        </div>

    </div>
</div>
<app-app-footer></app-app-footer>
<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.5)"
  size="small"
  template="<img src='https://www.superiorlawncareusa.com/wp-content/uploads/2020/05/loading-gif-png-5.gif' width='50' height='50'/>"
>
</ngx-spinner>