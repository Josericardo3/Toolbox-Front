<app-app-header [esVisible]="true" [esInfoHeader]="true"></app-app-header>
<div class="row">
  <div class="col-md-12 text-end; cursor: pointer">
    <button mat-icon-button [matMenuTriggerFor]="menu" style="color: #ffffff; cursor: pointer" class="menu-icono"
      (click)="cambioIcono()">
      <i class="fa-solid fa-bars" style="font-size: 20px; cursor: pointer;" *ngIf="!menuOpened"></i>
      <i class="fa-regular fa-circle-xmark" style="font-size: 20px; cursor: pointer;" *ngIf="menuOpened"></i>
    </button>
  </div>
</div>

<mat-menu #menu="matMenu" (close)="cambioIcono()">
  <div class=" mt-0">
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">

        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
          aria-expanded="false" aria-controls="collapseOne" (click)="$event.stopPropagation()">
          <h2>
            <span class="dot-red"></span>
            NOTIFICACIONES
            <i class="fa-regular fa-circle-right" style="color: #0B5738;"></i>
            <i class="fa-regular fa-circle-down" style="color: #0B5738"></i>
          </h2>
        </button>

        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <div *ngIf="result && !resultInicadores" style="text-align: center">
              <hr />
              <p class="text text-success">No hay recordatorios</p>
            </div>
            <div *ngIf="!result || resultInicadores">
              <hr style="margin-bottom: 2px" />
              <ul class="list-group list-group-flush">
                <li class="list-group-item" style="cursor: pointer" *ngFor="
                    let notificacion of datosTarjetaActividad.slice(0, 2)
                  ">
                  <p style="margin-bottom: -2px" (click)="
                      indexReminder(
                        notificacion.fkIdActividad,
                        notificacion.dato
                      )
                    ">
                    {{ notificacion.descripcion?.slice(0, 20) }}
                  </p>
                </li>

                <li class="list-group-item" style="cursor: pointer" *ngFor="
                    let campo of listaIndicadores.slice(0, 2);
                    let index = index
                  ">
                  <p (click)="indexReminderIndicador()">
                    {{ campo.NOMBRE_INDICADOR?.slice(0, 20) }}
                  </p>
                </li>
              </ul>
              <hr style="margin-top: 1px" />
              <a routerLink="/planificacion" class="btn btn-primary btn-block mt-2" style="
                  display: block;
                  text-align: center;
                  justify-content: center;
                ">Ver más</a>
            </div>
          </div>
        </div>
        <div class="accordion-item">

          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"
            (click)="$event.stopPropagation()">
            <h2>
              <span class="dot-red"></span>
              SEGUIMIENTO

              <i class="fa-regular fa-circle-right" style="color: #0b5738;"></i>
              <i class="fa-regular fa-circle-down" style="color: #0B5738"></i>
            </h2>
          </button>

          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
            data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <div class="card" id="card-seguimiento-acordeon" style="border: none">
                <div class="w-100" style="overflow-y: auto">
                  <div class="">
                    <p *ngIf="resultNoticia" style="
                        color: white !important;
                        text-align: center;
                        margin-top: 14px;
                        font-size: 12px;
                        font-family: 'Roboto', sans-serif;
                      ">
                      Ningún módulo accedido
                    </p>
                    <div *ngIf="!resultNoticia">
                      <ul class="list-group list-group-flush" *ngFor="let modulo of modulosConsultados">
                        <hr style="margin-top: -1px" />
                        <li class="list-group-item">
                          <div style="
                              display: flex;
                              justify-content:flex-start;
                              align-items:flex-start;       
                              font-family: 'Roboto';
                            ">
                            <img [src]="imagenesModulos[modulo.MODULO]" alt="Imagen de {{ modulo.MODULO }}"
                              class="modulo-imagen" />
                            <div class="" style="font-size: 15px">
                              <p class="card-title" style="color: #0b5738">
                                {{ modulo.MODULO }}
                              </p>
                              <p class="card-text">
                                {{ getFechaFormato(modulo.FECHA_REG) }}
                              </p>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item d-flex justify-content-center">

          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree"
            (click)="irUserSettings()">
            <h2>CONFIGURACIÓN DEL PRESTADOR </h2>
          </button>

        </div>
        <div class="accordion-item">

          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
            <h2 routerLink="">CERRAR SESIÓN</h2>
          </button>

        </div>
        <div class="accordion-item">
          <div class="card not222 mat-elevation-z2">
            <div class="noticia-carousel" *ngIf="carousel">
              <p *ngIf="resultNoticia" style="
                  text-align: center;
                  margin-top: 14px;
                  font-size: 12px;
                  font-family: 'Work Sans', sans-serif;
                ">
                No hay noticias
              </p>
              <div class="w-100" *ngIf="!resultNoticia">
                <div id="carouselExampleInterval1" class="carousel slide" style="width: 100%; height: 100%"
                  data-bs-ride="carousel">
                  <div class="carousel-inner">
                    <div class="carousel-item" *ngFor="
                        let campo of datosTarjetaNoticia.slice(0, 6);
                        let i = index
                      " [ngClass]="{ active: i === 0 }" [attr.data-bs-interval]="3000">
                      <div id="card-carousel2" class="card mat-elevation-z3">
                        <div class="card-img-top">
                          <div *ngIf="campo.COD_IMAGEN; else noImageBlock">
                            <img [src]="campo.COD_IMAGEN" />
                          </div>
                          <ng-template #noImageBlock>
                            <div>
                              <img id="img-noticia"
                                src="https://www.dzoom.org.es/wp-content/uploads/2017/07/seebensee-2384369-810x540.jpg" />
                            </div>
                          </ng-template>
                        </div>
                        <div class="card-body w-100">
                          <h5 class="card-title titulo-noticia">
                            {{ campo.TITULO_NOTICIA }}
                          </h5>
                          <h5 class="card-title" style="color: #474747;">{{formatFechaText(campo.FECHA_REG)}}</h5>
                          <div class="container-texto-noticia">
                            <h5 class="card-text" [innerHTML]="campo.DESCRIPCION_NOTICIA.slice(0,120)">
                              {{ campo.DESCRIPCION_NOTICIA.slice(0,120) }}
                            </h5>
                          </div>

                          <div class="btn-footer">
                            <a class="btn btn-primary btn-noticias" (click)="indexCard(campo.FK_ID_NOTICIA)">Ver más</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="botones-externos">
                    <button class="carousel-control-prev" (click)="darclick($event)" type="button"
                      data-bs-target="#carouselExampleInterval1" data-bs-slide="prev" #botonCarousel
                      (click)="$event.stopPropagation()">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval1"
                      data-bs-slide="next" (click)="$event.stopPropagation()">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-menu>
<div class="row ">
  <div class="col-md-8 campana">
    <div class="container-notificaciones position-relative" style="margin-left: -50rem;">
      <div class="notification-icon">
        <button class="btn" style="all: initial; cursor: pointer" type="button" data-bs-toggle="collapse"
          data-bs-target="#collapseContent" aria-expanded="false" aria-controls="collapseContent">
          <i class="far fa-bell" style="color: #ffffff"></i>
          
        </button>

        <div class="collapse custom-popover position-absolute start-100 translate-middle-x" id="collapseContent">
          <h3 class="text text-success" style="text-align: center; margin-bottom: -10px">
            Notificaciones
          </h3>
          <div *ngIf="result && !resultInicadores" style="text-align: center">
            <!-- <div class="linea"></div> -->
            <hr />
            <p class="text text-success">No hay recordatorios</p>
          </div>
          <div *ngIf="!result || resultInicadores">
            <hr style="margin-bottom: 2px" />
            <ul class="list-group list-group-flush">
              <li
                class="list-group-item text-center"
                style="cursor: pointer"
                *ngFor="let notificacion of datosTarjetaActividad.slice(0, 2 )"
              >
                <p
                  style="margin-bottom: -2px;"
                  (click)="
                    indexReminder(notificacion.fkIdActividad, notificacion.dato)
                  "
                >
                  <strong style="display: flex; justify-content: start;">Actividad: </strong>{{ notificacion.descripcion?.slice(0, 20) }}
                </p>
              </li>
 
              <li
                class="list-group-item text-center"
                style="cursor: pointer"
                *ngFor="
                  let campo of listaIndicadores.slice(0, 2);
                  let index = index
                "
              >
                <p style="margin-bottom: -2px;" (click)="indexReminderIndicador()">
                  <strong style="display: flex; justify-content: start;">Recordatorio: </strong>{{ campo.NOMBRE_INDICADOR?.slice(0, 20) }}
                </p>
              </li>
            </ul>
            <hr style="margin-top: 1px" />
            <a routerLink="/planificacion" class="btn btn-primary btn-block mt-2"
              style="display: block; text-align: center; justify-content: center">Ver más</a>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<div class="row " >
  <div class="col-md-9 col-12 col-sm-12  ">
    <div
      class="row d-flex justify-content-center align-items-center header-two"
    >
      <div class="col-md-10">
        <app-app-header2></app-app-header2>
      </div>
    </div>
    <div class="container" >
      <div class="row  text-center " style="margin-left: 5vw;">
        <div
          class="col-md-3 col-6  icono "
          [ngClass]="{ oculto: AccesoCaracterizacion }"
        >
          <div class="row " >
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z8 text-center position-relative d-flex justify-content-center align-items-center"
               style="height: 6rem; width: 7rem;"
                alt="caracterizacion"
                (click)="menuFilter('Caracterización') "
              >
                <!-- <img src="../../../../assets/img-dashboard/caracterizacion.svg" alt="caracterizacion" id="caracterizacion"> -->
                <img src="../../../../assets/img-dashboard/caracterizacion-oficial.svg" class=""
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success "><strong>Caracterización</strong></h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoDiagnostico }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center "
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 text-center position-relative d-flex justify-content-center align-items-center"
               style="height: 6rem; width: 7rem;"
                (click)="
                  menuFilter('Autodiagnóstico'); buscarRuta('diagnostico'); fnShowModal()
                ">
                <img src="../../../../assets/img-dashboard/diagnostico-oficial.svg" class="pcard-img-top img-fluid"
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Autodiagnóstico</strong></h5>
            </div>
          </div>
        </div>
 
        <div
          class="col-md-3 col-6 mb-2 icono"
          [ngClass]="{ oculto: AccesoPlanificacion }"
        >
          <div class="row ">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Gestor De Tareas'); buscarRuta('planificacion')"
               style="height: 6rem; width: 7rem;"
              >
                <!-- <img src="../../../../assets/img-dashboard/planificacion.svg" alt="planificacion" id="planificacion"> -->

                <img src="../../../../assets/img-dashboard/planificacion-oficial.svg" class="pcard-img-top img-fluid"
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Gestor de Tareas</strong></h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoDocumentacion }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Documentación'); buscarRuta('documentacion')"
               style="height: 6rem; width: 7rem;"
                
              >
                <!-- <img src="../../../../assets/img-dashboard/documentacion.svg" alt="documentacion" id="documentacion"> -->

                <img src="../../../../assets/img-dashboard/documentacion-oficial.svg" class="pcard-img-top img-fluid"
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Documentación</strong></h5>
            </div>
          </div>
        </div>
        <div
          class="col-md-3 col-6 mb-2 icono"
          [ngClass]="{ oculto: AccesoELearning }"
        >
          <div
            class="col-md-12 text-center d-flex justify-content-center align-items-center"
             style="height: 8rem;"
          >
            <div
              class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
              (click)="menuFilter('Formación E E-Learning'); redirigirAUrlExterna()"
             style="height: 6rem; width: 7rem;"
            >
              <!-- <img src="../../../../assets/img-dashboard/formacion.svg" alt="formacion" id="formacion"> -->

              <img src="../../../../assets/img-dashboard/formacion-oficial.svg" class="pcard-img-top img-fluid"
                alt="..." />
            </div>
          </div>
          <div class="col-md-12 mt-1">
            <h5 class="text-success">
              <strong>Formación E E-Learning</strong>
            </h5>
          </div>
        </div>
        <div
          class="col-md-3 col-6 mb-2 icono"
          [ngClass]="{ oculto: AccesoNoticias }"
        >
          <div
            class="col-md-12 d-flex justify-content-center align-items-center"
             style="height: 8rem;"
          >
            <div
              class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
              (click)="menuFilter('Noticias'); buscarRuta('gestorNoticia')"
             style="height: 6rem; width: 7rem;"
            >
              <!-- <img src="../../../../assets/img-dashboard/noticias.svg" alt="noticias" id="noticias"> -->

              <img src="../../../../assets/img-dashboard/noticias-oficial.svg" class="pcard-img-top img-fluid"
                alt="..." />
            </div>
          </div>
          <div class="col-md-12 mt-1">
            <h5 class="text-success"><strong>Noticias</strong></h5>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoAuditoria }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
              (click)="menuFilter($event); buscarRuta('listaDeVerificacion')"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Auditoría Interna'); buscarRuta('listaDeVerificacion')"
               style="height: 6rem; width: 7rem;"
              >
                <!-- <img src="" alt="auditoria" id="auditoria" > -->

                <img src="../../../../assets/img-dashboard/auditoria-oficial.svg" class="pcard-img-top img-fluid"
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Auditoría Interna</strong></h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoEvidencia }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Evidencia E Implementación'); buscarRuta('evidencia/:section')"
               style="height: 6rem; width: 7rem;"
              >
                <!-- <img src="../../../../assets/img-dashboard/" alt="evidencia" id="evidencia"> -->

                <img src="../../../../assets/img-dashboard/evidencia-oficial.svg" class="pcard-img-top img-fluid"
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success">
                <strong>Evidencia e Implementación</strong>
              </h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoGerencia }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Alta Gerencia'); buscarRuta('resultadosAuditoria')"
               style="height: 6rem; width: 7rem;"
              >
                <!-- <img src="../../../../assets/img-dashboard/gerencia.svg" alt="gerencia" id="gerencia"> -->

                <img src="../../../../assets/img-dashboard/gerencia-oficial.svg" class="pcard-img-top img-fluid"
                  alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Alta Gerencia</strong></h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoKpi }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Medición'); buscarRuta('indicadores')"
               style="height: 6rem; width: 7rem;"
              >
                <!-- <img src="../../../../assets/img-dashboard/medicion.svg" alt="medicion" > -->

                <img src="../../../../assets/img-dashboard/kpi-oficial.svg" class="pcard-img-top img-fluid" alt="..." />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Medición y Kpi's</strong></h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-2 icono" [ngClass]="{ oculto: AccesoMejora }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
               style="height: 6rem; width: 7rem;"
                (click)="menuFilter('Mejora Continua'); buscarRuta('mejoraContinua')"
              >
                <img
                  src="../../../../assets/img-dashboard/mejora_continua-oficial.svg"
                  class="pcard-img-top img-fluid"
                  alt="..."
                />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Mejora Continua</strong></h5>
            </div>
          </div>
        </div>
        <div class="col-md-3 col-6 mb-0 icono" [ngClass]="{ oculto: AccesoMonitorizacion }">
          <div class="row">
            <div
              class="col-md-12 d-flex justify-content-center align-items-center"
               style="height: 8rem;"
            >
              <div
                class="p-3 card mat-elevation-z3 d-flex justify-content-center align-items-center"
                (click)="menuFilter('Monitorización'); buscarRuta('monitorizacion')"
               style="height: 6rem; width: 7rem;"
              >
                <img
                  src="../../../../assets/img-dashboard/monitorizacion-oficial.svg"
                  class="pcard-img-top img-fluid"
                  alt="..."
                />
              </div>
            </div>
            <div class="col-md-12 mt-1">
              <h5 class="text-success"><strong>Monitorización</strong></h5>
            </div>




          </div>
        </div>

      </div>
    </div>
    
    
  </div>
 
  <div class="col-md-3  seguimiento ">
    <div
      class="cardnotificaciones collapse navbar-collapse"
      [ngClass]="{ 'mostrar-notificaciones': mostrarNotificacion }"
      [collapse]="isCollapsed"
    >
      <div class="card mat-elevation-z2 pepe">
        <li class="list-group-item pt-3" style="background-color: #f2f2f2">
          <h3
            class="text text-success text-center"
            style="font-family: 'Nunito Sans'"
          >
            SEGUIMIENTO
          </h3>
          <hr style="display: block; margin-bottom: 0px" />
        </li>

        <div class="card" id="card-seguimiento" style="border: none">
          <div class="contenedorCard" style="overflow-y: auto; overflow-x: hidden">
            <div class="tituloNot">
              <p
                *ngIf="resultSeguimiento"
                style="
                  color: black !important;
                  text-align: center;
                  
                  font-size: 12px;
                  font-family: 'Work Sans', sans-serif;
                ">
                Ningún módulo accedido
              </p>
              <div *ngIf="!resultSeguimiento">
                <ul
                  class="list-group list-group-flush"
                  *ngFor="let modulo of modulosConsultados"
                >
                  <hr
                    style="margin-top: -1px; margin-bottom: -3px; width: 350px"
                  />
                  <li class="list-group-item pt-1" style="all: initial; margin-left: 50px;">
                    <div class="modulo-item" style="display: flex; align-items: center;">
                      <img [src]="imagenesModulos[modulo.MODULO]" alt="Imagen de {{ modulo.MODULO }}" style="max-width: 75px; max-height: 75px;" class="modulo-imagen" />
                      <div class="modulo-info" style="font-size: 14px; margin-left: -5px;">
                        <p class="card-title" style="color: #0b5738; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                          {{ modulo.MODULO }}
                        </p>
                        <p class="card-text" style="margin-bottom: 0;">
                          {{ getFechaFormato(modulo.FECHA_REG) }}
                        </p>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
 
      <div class="card mat-elevation-z2 pepe2">
        <div class="noticia-carousel" *ngIf="carousel">
          <p *ngIf="resultNoticia" style="
              text-align: center;
              margin-top: 14px;
              font-size: 12px;
              font-family: 'Work Sans', sans-serif;
            ">
            No hay noticias
          </p>
          <div *ngIf="!resultNoticia">
            <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item" *ngFor="
                    let campo of datosTarjetaNoticia.slice(0, 6);
                    let i = index
                  " [ngClass]="{ active: i === 0 }" [attr.data-bs-interval]="3000">
                  <div id="card-carousel" class="card mat-elevation-z8 ">
                    <div class="card-img-top">
                      <div *ngIf="campo.COD_IMAGEN; else noImageBlock">
                        <img [src]="campo.COD_IMAGEN" />
                      </div>
                      <ng-template #noImageBlock>
                        <div>
                          <img id="img-noticia"
                            src="https://www.dzoom.org.es/wp-content/uploads/2017/07/seebensee-2384369-810x540.jpg" />
                        </div>
                      </ng-template>
                    </div>
                    <div class="card-body">
                      <h5 class="card-title titulo-noticia">{{ campo.TITULO_NOTICIA }}</h5>
                      <h5 class="card-title" style="color: #474747;">{{formatFechaText(campo.FECHA_REG)}}</h5>
                      <div class="container-texto-noticia">
                      <h5 class="card-text" [innerHTML]="campo.DESCRIPCION_NOTICIA.slice(0,120)" >
                        {{ campo.DESCRIPCION_NOTICIA?.slice(0, 120) }} 
                      </h5>
                    </div>
                    <div class="btn-footer">
                      <a
                        class="btn btn-primary btn-noticias"
                        (click)="indexCard(campo.FK_ID_NOTICIA)"
                        >Ver más</a
                      >
                    </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="botones-externos" *ngIf="contenidoCargado">
                <button class="carousel-control-prev" (click)="darclick($event)" type="button"
                  data-bs-target="#carouselExampleInterval" data-bs-slide="prev" #botonCarousel>
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval"
                  data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row footer2">
  <div class="col-md-9 com-sm-12 col-12 ">
    <div class="mt-0 d-flex justify-content-end align-items-end ">
      <app-footer2 class="w-100"></app-footer2>
    </div>
  </div>
</div>
<div class="row  ">
  

  <div class="containerDashboard">
    <app-modal></app-modal>

    <!-- Modal -->
    <div class="modal modal-dialog-centered" tabindex="-1" role="dialog" *ngIf="showModal"
      [ngClass]="{ show: showModal }" style="display: block; background-color: rgba(0, 0, 0, 0.5)">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-container">
          <div class="modal-body">
            <a title="Cancelar" class="close-btn" data-dismiss="modal" aria-label="Close" (click)="showModal = false">
              <i class="fa-solid fa-circle-xmark"></i>
            </a>
            <div class="btn-container">
              <button class="btn-modal" [routerLink]="
                  etapaShowInicio ? '/diagnosticoDoc' : '/diagnostico'
                " (click)="fnEtapa('inicial')">
                <label *ngIf="etapaShowInicio; else diagnosticoInicio" style="cursor: pointer">
                  Ver resultados etapa Inicial
                </label>
                <ng-template #diagnosticoInicio>
                  <label style="cursor: pointer">
                    Realizar diagnóstico de etapa Inicial
                  </label>
                </ng-template>
              </button>

              <button class="btn-modal" [routerLink]="
                  etapaShowIntermedio ? '/diagnosticoDoc' : '/diagnostico'
                " (click)="fnEtapa('intermedia')" [ngClass]="{ disabled: bloquearIntermedio }">
                <label *ngIf="etapaShowIntermedio; else diagnosticoIntermedio" style="cursor: pointer">
                  Ver resultados etapa Intermedia
                </label>
                <ng-template #diagnosticoIntermedio>
                  <label style="cursor: pointer">
                    Realizar diagnóstico de etapa Intermedia
                  </label>
                </ng-template>
              </button>

              <button class="btn-modal" [routerLink]="
                  etapaShowFinal ? '/diagnosticoDoc' : '/diagnostico'
                " (click)="fnEtapa('final')" [ngClass]="{ disabled: bloquearFinal }">
                <label *ngIf="etapaShowFinal; else diagnosticoFinal" style="cursor: pointer">
                  Ver resultados etapa Final
                </label>
                <ng-template #diagnosticoFinal>
                  <label style="cursor: pointer">
                    Realizar diagnóstico de etapa Final
                  </label>
                </ng-template>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ngx-spinner bdColor="rgba(0, 0, 0, 0.5)" size="small"
      template="<img src='https://www.superiorlawncareusa.com/wp-content/uploads/2020/05/loading-gif-png-5.gif' width='50' height='50'/>">
    </ngx-spinner>


  </div>
</div>

<app-modal></app-modal>

<!-- Modal -->
<!-- <div class="modal modal-dialog-centered" tabindex="-1" role="dialog" *ngIf="showModal" [ngClass]="{'show': showModal}" style="display: block;">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content modal-container">
      <div class="modal-body">
        <a title="Cancelar" class="close-btn" data-bs-dismiss="modal" aria-label="Close" (click)="showModal = false;">
          <i class="fa-solid fa-circle-xmark"></i>
        </a>
        <div class="btn-container">
          <button class="btn-modal" [routerLink]="etapaShowInicio ? '/diagnosticoDoc' : '/diagnostico'" (click)="fnEtapa('inicial')" >
            <label *ngIf="etapaShowInicio; else diagnosticoInicio"  style="cursor: pointer;">
              Ver resultados etapa Inicial
            </label>
            <ng-template #diagnosticoInicio>
              <label  style="cursor: pointer;">
              Realizar diagnóstico de etapa Inicial
            </label>
            </ng-template>
          </button>
      
          <button class="btn-modal" [routerLink]="etapaShowIntermedio ? '/diagnosticoDoc' : '/diagnostico'"  (click)="fnEtapa('intermedia')" [ngClass]="{'disabled': bloquearIntermedio}" >
            <label *ngIf="etapaShowIntermedio; else diagnosticoIntermedio"  style="cursor: pointer;">
              Ver resultados etapa Intermedia
            </label>
            <ng-template #diagnosticoIntermedio>
              <label  style="cursor: pointer;">
                Realizar diagnóstico de etapa Intermedia
              </label>
            </ng-template>
          </button>
      
          <button class="btn-modal" [routerLink]="etapaShowFinal ? '/diagnosticoDoc' : '/diagnostico'"  (click)="fnEtapa('final')" [ngClass]="{'disabled': bloquearFinal}" >
            <label *ngIf="etapaShowFinal; else diagnosticoFinal" style="cursor: pointer;">
              Ver resultados etapa Final
            </label>
            <ng-template #diagnosticoFinal>
              <label  style="cursor: pointer;">
                Realizar diagnóstico de etapa Final
              </label>
            </ng-template>
          </button>
        </div>
      </div>
    </div>
  </div>
</div> -->


<ngx-spinner bdColor="rgba(0, 0, 0, 0.5)" size="small"
  template="<img src='https://www.superiorlawncareusa.com/wp-content/uploads/2020/05/loading-gif-png-5.gif' width='50' height='50'/>">
</ngx-spinner>