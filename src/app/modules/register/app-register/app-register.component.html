
<app-app-header></app-app-header> 
<div id="registerContainer" class="registerContainer">
  <div class="registre">
    <h1>Registrar Nuevo Prestador</h1>
    <form
      class="formRegister"
      [formGroup]="registerForm"
      (ngSubmit)="saveUser()"
    >
    <div class="registro">
      
      <label>Registro Nacional de Turismo</label>
      <div class="rnt-div" >
        <!--<div class="rnt-icon" *ngIf="showCheckRnt">
          <span class='iconCheckRnt'><i class="fa-solid fa-check"></i></span>
        </div>
        <div class="rnt-icon" *ngIf="showFaXmarkRnt">
          <span class='iconFaXmarkRnt'><i class="fa-solid fa-xmark"></i></span>
        </div>-->
        <div style="display: flex; align-items: center; ">

        <input  
        size="28"
        type="text"
        placeholder="Registro Nacional de Turismo"  
        formControlName="registroNacionalDeTurismo"
        appNumeros 
        (change)="verificarRnt($event)"
        >
        <a class="validar-button" style="background-color: #068460; color: white; padding: 5px;" (click)="validarRnt()">Validar</a>
      </div>
      </div>
      <label>Número de identificación tributaria</label>
        <input class="formmincit"
          type="number"
          placeholder="Número de identificación tributaria"
          size="28"
          formControlName="numeroDeIdentificacionTributaria"
          [ngClass]="{ 'dark-input': accionDisabled  }"
          />

      <div *ngIf="!showCheckRnt">
        <label class="control-error textDanger">
          {{msjRnt}}
        </label>
        <br />
      </div>



      <div class="selectDepar select-botton">
        <div class="select-value ">
          <label>Categoría RNT</label>
          <select name="select" id="selectCategoria"  formControlName="categoriaRnt" (change)="onLoadCategory($event)"     [ngClass]="{ 'dark-input': accionDisabled  }"          >
            <option value="" selected>Seleccionar categoría</option>
            <option *ngFor="let element of data" [ngValue]="element">{{element.name}}</option>
          </select>
        </div>
        <div class="select-value select-margin margin-div">
          <label class="padding-label"
            >Subcategoría RNT
          </label>
          <select
            name="select"
            id="1"
            formControlName="subcategoriaRnt"
            [ngClass]="{ 'dark-input': accionDisabled  }"
          >  
          <option value="" selected>Seleccionar subcategoría</option>
          <option *ngFor="let element of arrAgency"[ngValue]="element" >{{element.name}}</option>
          </select>
        </div>
      </div>
      <label>Nombre del PST</label>
      <input
        type="text"
        appLetras
        placeholder="Nombre del PST"
        formControlName="nombreDelPst"
        [ngClass]="{ 'dark-input': accionDisabled  }"
      />
      <label>Razón Social del PST</label>
      <input
        type="text"
        placeholder="Razón Social del PST"
        formControlName="razonSocialDelPst"  
        [ngClass]="{ 'dark-input': accionDisabled  }"
      />
      <label>Correo del PST</label>
      <div class="email-div">
        <div class="email-icon" *ngIf="showCheck">
          <span class='iconcheck'><i class="fa-solid fa-check"></i></span>
        </div>
        <div class="email-icon" *ngIf="showFaXmark">
          <span class='iconFaXmark'><i class="fa-solid fa-xmark"></i></span>
        </div>
        <input type="email" placeholder="Correo del PST" formControlName="correo"
       (change)="verificarCorreo($event)" 
       [ngClass]="{ 'dark-input': accionDisabled  }"
       >
      </div>
      <div *ngIf="!showCheck">
        <label class="control-error textDanger">
          {{msjEmail}}
        </label>
        <br/>
      </div>
      <div *ngIf="registerForm.controls['correo'].hasError('pattern')">
        <label class="control-error textDanger">
          Debe contener un correo válido
        </label>
        <br/>
      </div>
      <label>Teléfono del PST</label>
      <div class="phone-div">
        <div class="phone-icon" *ngIf="showCheckPhone">
          <span class='iconCheckPhone'><i class="fa-solid fa-check"></i></span>
        </div>
        <div class="phone-icon" *ngIf="showFaXmarkPhone">
          <span class='iconFaXmarkPhone'><i class="fa-solid fa-xmark"></i></span>
        </div>
        <input  
        appNumeros  
        type="text" 
        maxlength="10" 
        formControlName="telefono"  
        placeholder="Ingresa tu número de teléfono" 
        (change)="verificarPhone($event)"
        [ngClass]="{ 'dark-input': accionDisabled  }"
        >
      </div>
      <div *ngIf="!showCheckPhone">
        <label class="control-error textDanger">
          {{msjPhone}}
        </label>
        <br />
      </div>
      <div *ngIf="registerForm.controls['telefono'].hasError('pattern')">
        <label class=" control-error textDanger">
          Ingresa un número de teléfono válido con 10 dígitos.
        </label>
        <br />
      </div>
      <label>Nombre del representate Legal</label>
      <input
        type="text"
        appLetras
        placeholder="Nombre del representate Legal"
        formControlName="nombreDelRepresenteLegal"
        [ngClass]="{ 'dark-input': accionDisabled  }"
      />
      <label class="control-error">Correo del representate Legal</label>
      <input
        type="email"
        placeholder="Correo del representate Legal"
        formControlName="correoRepresentanteLegal"
        [ngClass]="{ 'dark-input': accionDisabled  }"
      />
      <label
        class="control-error textDanger"
        *ngIf="
          registerForm.controls['correoRepresentanteLegal'].hasError('pattern')
        "
      >
        Debe contener un correo válido
      </label>
      <br>
      <label>Teléfono del Representante Legal</label>
      <input type="text" formControlName="telefonoDelRepresentanteLegal"  maxlength="10"  
      appNumeros placeholder="Teléfono del Representante Legal"
      [ngClass]="{ 'dark-input': accionDisabled  }"
      >
      <label
       class="control-error textDanger"
       *ngIf="
         registerForm.controls['telefonoDelRepresentanteLegal'].hasError('pattern')
       "
     >
     Ingresa un número de teléfono válido con 10 dígitos.
     </label>
     <br>
      <div class="select-botton">
        <label>Tipo de Identificación del Representante Legal</label>
        <select
          name="select"
          formControlName="tipoDeIdentificacionDelRepresentanteLegal"
          [ngClass]="{ 'dark-input': accionDisabled  }"
          >
          <option value="CEDULA DE CIUDADANIA">Cédula de Ciudadanía</option>
          <option value="CEDULA DE EXTRANJERIA">Cédula de Extranjería</option>
          <option value="PASAPORTE">Pasaporte</option>
          <option value="DOCUMENTO NACIONAL DE IDENTIDAD">Documento Nacional de Identidad</option>
      
        </select>
      </div>
      
      <label>Identificación del Representante Legal</label>
      <input
        type="text"
        size="12"
        placeholder="Identificación del Representante Legal"
        formControlName="identificacionDelRepresentanteLegal"
        [ngClass]="{ 'dark-input': accionDisabled  }"
        (input)="inputsize($event)"
      />
      <div class="selectDepar select-botton">
        <div class="select-value">
          <label>Departamento</label>
          <select  id="selectDepartment" name="select" formControlName="departamento" (change)="setDepartments($event)" 
          [ngClass]="{ 'dark-input': accionDisabled  }"
          >
          </select>
        </div>
        <div class="select-value select-margin margin-div padding-label">
          <label>Municipio</label>
          <select id="selectMunicipality" name="select" formControlName="municipio"
          [ngClass]="{ 'dark-input': accionDisabled  }"
          >
          </select>
        </div>
      </div>
      <label>Nombre del Responsable de Sostenibilidad</label>
      <input
        type="text"
        appLetras
        placeholder="Nombre del Responsable de Sostenibilidad"
        formControlName="nombreDelResponsableDeSostenibilidad"
        [ngClass]="{ 'dark-input': accionDisabled  }"
      />
      <label>Correo del Responsable de Sostenibilidad</label>
      <input
        type="email"
        placeholder="Correo del Responsable de Sostenibilidad"
        formControlName="correoDelResponsableDeSostenibilidad"
        [ngClass]="{ 'dark-input': accionDisabled  }"
      />
      <label
        class="control-error textDanger"
        *ngIf="
          registerForm.controls[
            'correoDelResponsableDeSostenibilidad'
          ].hasError('pattern')
        "
        [ngClass]="{ 'dark-input': accionDisabled  }"
      >
        Debe contener un correo válido
      </label>
      <br>
      <label>Teléfono del Responsable de Sostenibilidad</label>
      <input type="text" formControlName="telefonoDelResponsableDeSostenibilidad"  maxlength="10" 
       appNumeros placeholder="Teléfono del Responsable de Sostenibilidad"
       [ngClass]="{ 'dark-input': accionDisabled  }"
       >
      <label
       class="control-error textDanger"
       *ngIf="
         registerForm.controls['telefonoDelResponsableDeSostenibilidad'].hasError('pattern')
       "
     >
     Ingresa un número de teléfono válido con 10 dígitos.
     </label>
     <br>
      <div class="contraseña">
        <div class="password">
          <label for="pass">Contraseña</label>
          <div class="eye">
            <span class='iconEye' (click)="seePasswordRegister()">
              <i class="fas fa-eye-slash"></i>
            </span>
          </div>
        <input type="password" formControlName="password1" 
        placeholder="Ingrese contraseña" id="passRegister" required="required" class="passLogin"
        [ngClass]="{ 'dark-input': accionDisabled  }"
        >
            <label 
            class="textDanger"
            *ngIf="
              registerForm.controls['password1'].hasError('required') ||
              registerForm.controls['password1'].hasError('minlength') ||
              registerForm.controls['password1'].hasError('maxlength')">
          <div style="margin-top: 0;">
            Debe contener mínimo 8 caracteres y máximo 12 caracteres.
          </div>
            
          </label>
 
            <label
            class="textDanger"
            *ngIf="
              registerForm.controls['password1'].hasError('required') ||
              registerForm.controls['password1'].hasError('hasNumber')">
            <div style="margin-top: 0;">
              Debe contener al menos 1 número.
            </div>
         
          </label>
         
            <label
            class="textDanger"
            *ngIf="
              registerForm.controls['password1'].hasError('required') ||
              registerForm.controls['password1'].hasError('hasCapitalCase')">
          <div style="margin-top: 0;">
            Debe contener 1 letra mayúscula.
          </div>
           
          </label>
         
            <label
            class="textDanger"
            *ngIf="
              registerForm.controls['password1'].hasError('required') ||
              registerForm.controls['password1'].hasError('hasSmallCase') ">
          <div style="margin-top: 0;">
          Debe contener 1 letra minúscula.
          </div>
          
          </label>

            <label
            class="textDanger"
            *ngIf="
              registerForm.controls['password1'].hasError('required') ||
              registerForm.controls['password1'].hasError(
                'hasSpecialCharacters')">
          <div style="margin-top: 0;">
            Debe contener 1 caracter especial.
          </div>
            
          </label>
        </div>
 
        <div class="password">
          <label for="pass">Repetir contraseña</label>
          <div class="eye">
            <span class='iconEye' (click)="seePasswordRegister2()"><i class="fas fa-eye-slash"></i></span>
        </div>
        <input type="password" formControlName="confirmPassword" required="required"
         placeholder="Ingrese contraseña" id="passRegister2" class="passLogin"
         [ngClass]="{ 'dark-input': accionDisabled  }"
         >

          <label
            class="control-error"

            *ngIf="
              registerForm.controls['confirmPassword'].hasError('NoPassswordMatch')"
          >

            Las contraseñas deben coincidir
          </label>
        </div>
      </div>
      <div class="checkbox-container">
        <i class="checkbox-tema" (click)="openModal()">Acepto y autorizo el uso de mis datos por parte de MinCIT y Fontur
          </i>
      </div>
      <p class="campo-final"   *ngIf="registerForm.invalid">Todos los campos son requeridos </p>
      <div class="button-container">
        <button type="submit" class="btn" [disabled]="registerForm.invalid" >
          Guardar
        </button>
        <!-- <button type="button" class="btn" (click)="limpiar()" >
          Limpiar
        </button> -->
      </div>
    </div>
    </form>

    <!-- modal de terminos y condiciones -->
    
    <div id="modalTerminos" style="width: 100vw">
      <div class="content-terminos" title="TERMINOS Y CONDICIONES">
        
        <section class="modal-content">
          <a title="Cerrar" data-dismiss="modal" aria-label="Close" class="x">
            <i class="fa-solid fa-circle-xmark" style="color: #06543c;font-size: 25px;" (click)="close()"></i>
          </a>
          <h2 class="datos">Política de tratamiento de datos</h2>
          <p class="terminos">
            Acepto y autorizo el uso de mis datos personales por 
            Innovación Empresarial Isoluciones SAS, los cuales 
            serán tratados de acuerdo con la política de tratamiento 
            de datos de Innovación Empresarial Isoluciones SAS, la cual puede 
            consultar en: 
          </p>
          <a class="enlace" href="http://drive.google.com/file/d/1VOCQrTfuhWNpcZuLRQlRs-ZbH8BDDGJ_/view?usp=sharing" target="_blank">Política de protección de datos personales</a>
          <div class="forma-label-sin-izquierda ">
            <input
              class="checkbox"
              type="checkbox"
              trueFalseValue
              formControlName="checkbox"
              (click)="change($event)"
              [checked]="isChecked"
            />
            <label class="checkbox-datos"
              >He leído la política de tratamiento de datos</label
            >
          </div>
          <div class="button-container-2">
            <button class="btn" (click)="closeModal($event)" id="btnAceptar" [disabled]="!isChecked">Aceptar</button>
          </div>
        </section>
      </div>
    </div>
    <app-modal></app-modal>
  </div>
</div> 
<app-app-footer></app-app-footer>


<ngx-spinner bdColor="rgba(0, 0, 0, 0.5)" size="small"
    template="<img src='https://www.superiorlawncareusa.com/wp-content/uploads/2020/05/loading-gif-png-5.gif' width='50' height='50'/>">
</ngx-spinner>
